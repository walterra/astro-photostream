---
import type { PhotoGridProps } from '../types.js';
import PhotoCard from './PhotoCard.astro';

// Import consolidated CSS
import '../styles/aps-core.css';

interface Props extends PhotoGridProps {}

const { 
  photos, 
  columns = {
    mobile: 2,
    tablet: 3,
    desktop: 4
  },
  class: className = ''
} = Astro.props;

// Extract column configuration
const { desktop = 4 } = columns;

// Map to consolidated CSS grid classes
const gridClasses = {
  2: "aps-grid-2col",
  3: "aps-grid-3col", 
  4: "aps-grid-4col",
};

// Use desktop columns as primary setting
const gridClass = gridClasses[desktop as keyof typeof gridClasses] || gridClasses[3];
---

<div class={`aps-grid-responsive ${gridClass} ${className}`}>
  {photos.map(photo => (
    <PhotoCard 
      photo={photo}
      size={desktop >= 3 ? "small" : "medium"}
      loading="lazy"
    />
  ))}
</div>

<!-- PhotoGrid now uses consolidated CSS from aps-core.css - no custom styles needed -->